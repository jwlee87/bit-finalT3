<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.coily.repository.dao.CardDAO">

	<resultMap id="cardMap" type="cardVO">
		<result property="cardNo" column="card_no"/>
		<result property="userNo" column="user_no"/>
		<result property="cardContent" column="card_content"/>
		<result property="cardRegDate" column="card_reg_date"/>
		<result property="fileGroupNo" column="file_group_no"/>
	</resultMap>
	
<!-- 			카드 리스트 		-->
<!-- ============================================================================== -->
	<select id="selectCard" parameterType="searchVO" resultMap="cardMap">
		select *
		  from tb_card where CARD_NO > 0 order by CARD_NO desc limit 0,10
	</select>
	
	<select id="selectCardCount" parameterType="searchVO" resultType="int">
		select count(*)
		from tb_card
	</select>
	
	<select id="selectOneCard" parameterType="int" resultMap="cardMap">
		select *
		from tb_card
		  where card_no= #{cardNo}
	</select>
<!-- ============================================================================== -->


<!-- 			카드 등록 			-->
<!-- ============================================================================== -->	
	<insert id="insertCard" parameterType="cardVO">
		insert into tb_card(
			user_no,
			card_content
		   )values(
			4,
			#{cardContent}
			)
	</insert>
<!-- ============================================================================== -->
	
</mapper>